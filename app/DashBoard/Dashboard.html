<!DOCTYPE html>
<html lang="en" id="arreglos">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Volvo Company
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />

  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
  integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
  crossorigin=""/>


<link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
  crossorigin=""></script>
<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>



  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/paper-dashboard.css?v=2.0.0" rel="stylesheet" />
  <link href="assets/demo/demo.css" rel="stylesheet" />
</head>

<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="white" data-active-color="danger">
      <div class="logo">
        <a class="simple-text logo-mini">
          <div class="logo-image-small">
            <img src="assets/img/logo.jpg">
          </div>
        </a>
        <a class="simple-text logo-normal">
          Administrator
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="active ">
            <a href="./dashboard.html">
              <i class="fas fa-tachometer-alt"></i>
              <p>Dashboard</p>
            </a>
          </li>
          <li>
              <a href="./notifications.html">
                <i class="fas fa-car-crash"></i>
              <p>Notifications</p>
            </a>
          </li>
          <li>
            <a href="./tables.html">
              <i class="fas fa-car"></i>
              <p>Car List</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel">


      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle">
              <button type="button" class="navbar-toggler" id="boto">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>
            <a class="navbar-brand">Volvo Dashboard - Zurich </a>
          </div>
          <div class="collapse navbar-collapse justify-content-end" id="navigation">

          </div>
        </div>
      </nav>
      <script>
        var nav = document.getElementById("boto");
        nav.addEventListener("click",handleclick);
        var element = document.getElementById("arreglos")
        b = false 
        function handleclick(){
          if(!b){
            element.classList.add("perfect-scrollbar-off");
            element.classList.add("nav-open");
            b = true
          }
          else {
            element.classList.remove("perfect-scrollbar-off");
            element.classList.remove("nav-open");
            b = false

          }
        }
      </script>

      <div class="content">
          <div class="container-fluid">
              <div class="card card-map">
                  <div class="map" style="overflow:hidden;">
                      <div id="mapid"></div>
                  </div>
              </div>
          </div>
      </div>
  </div>




<style>
    #mapid{
        position: absolute; top: 0; bottom: 0; left: 0; right: 0; content: ''; }
   
</style>

    </body>
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
    integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
    crossorigin=""></script>




  <script src="assets/js/core/jquery.min.js"></script>
  <script src="assets/js/core/popper.min.js"></script>
  <script src="assets/js/core/bootstrap.min.js"></script>
  <script src="assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>


  <script>
    
    var mymap = L.map("mapid").setView([47.371637, 8.542088, -0.09], 13);
    // var geocoder = L.Control.Geocoder.nominatim();
 
    
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1IjoiYWRyaWFjYWJlemEiLCJhIjoiY2p0MWNmbzI1MXYzMDQzb2RqM21xcGJlaSJ9.5JCl4GXfA3ZQnZcCPsgZGw'
}).addTo(mymap);
  //APARTIR D'AQUï es den william
// L.tileLayer(
//   "https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",
//   {
//     attribution:
//       'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
//     maxZoom: 18,
//     id: "mapbox.streets",
//     accessToken:
//       "pk.eyJ1Ijoic3RhcnRoYWNrcHJpbmdsZXMiLCJhIjoiY2p0MHE0Mnd1MDB6NzN5cGdxczVoZmNyNiJ9.i0AHQnmU9XumQVTaUE-7NA"
//   }
// ).addTo(mymap);
const carIcon = L.icon({
  iconUrl: "car.png",
  iconSize: [38, 38] // size of the icon
});
const greenCarIcon = L.icon({
  iconUrl: "carGreen.png",
  iconSize: [38, 38] // size of the icon
});
// Fake route coordinates
const fakeRoute = [
  [8.53684, 47.374991],
  [8.537446, 47.375113],
  [8.537148, 47.375663],
  [8.538688, 47.377254],
  [8.54382, 47.376391],
  [8.544428, 47.379361],
  [8.545379, 47.378802],
  [8.547295, 47.375369],
  [8.549012, 47.375745],
  [8.549553, 47.374735],
  [8.55237, 47.374773],
  [8.553359, 47.375987],
  [8.552843, 47.377149],
  [8.558202, 47.37541],
  [8.560014, 47.37655],
  [8.556334, 47.378956],
  [8.551755, 47.382316],
  [8.549021, 47.383664],
  [8.548393, 47.384488],
  [8.548498, 47.385919],
  [8.54769, 47.386742],
  [8.544311, 47.387608],
  [8.538942, 47.391381],
  [8.534833, 47.39143],
  [8.531629, 47.393036],
  [8.526872, 47.39439],
  [8.525316, 47.394271],
  [8.524882, 47.395016],
  [8.525466, 47.39465],
  [8.523771, 47.392675],
  [8.519464, 47.395156],
  [8.520625, 47.394959],
  [8.524712, 47.393657],
  [8.524331, 47.392829],
  [8.510534, 47.378507],
  [8.493118, 47.385827],
  [8.492906, 47.38468],
  [8.494383, 47.384011],
  [8.491598, 47.381181],
  [8.498596, 47.377597],
  [8.503946, 47.373221],
  [8.502431, 47.371657],
  [8.501262, 47.368661],
  [8.502868, 47.364368],
  [8.507209, 47.359826],
  [8.507612, 47.359377],
  [8.505324, 47.358344],
  [8.502426, 47.36125],
  [8.504659, 47.36246],
  [8.502868, 47.364368],
  [8.501249, 47.368752],
  [8.502431, 47.371657],
  [8.503946, 47.373221],
  [8.499365, 47.377328],
  [8.510567, 47.378073],
  [8.513943, 47.38194],
  [8.522142, 47.390291],
  [8.523292, 47.390715],
  [8.524809, 47.390522],
  [8.536737, 47.383415],
  [8.538093, 47.38138],
  [8.53744, 47.379499],
  [8.541372, 47.378284],
  [8.541692, 47.374429],
  [8.537412, 47.374679],
  [8.535419, 47.373164],
  [8.53509, 47.373712],
  [8.538688, 47.377254],
  [8.543096, 47.376811],
  [8.54357, 47.376374],
  [8.544451, 47.376725],
  [8.548456, 47.370452],
  [8.553446, 47.366827],
  [8.552369, 47.365445],
  [8.556414, 47.364012],
  [8.562158, 47.360716],
  [8.568442, 47.360082],
  [8.572739, 47.357397],
  [8.576178, 47.353296],
  [8.577955, 47.3489],
  [8.577051, 47.344628]
];
const cars = [
  {
    lng: 8.572739,
    lat: 47.357397,
    name: "Volvo V40"
  },
  {
    lng: 8.544311,
    lat: 47.387608,
    name: "Volvo XC40"
  },
  {
    lng: 8.548498,
    lat: 47.385919,
    name: "Volvo XC90"
  },
  {
    lng: 8.502431,
    lat: 47.371657,
    name: "Volvo S90"
  },
  {
    lng: 8.547295,
    lat: 47.375369,
    name: "Volvo V90"
  },
  {
    lng: 8.498596,
    lat: 47.377597,
    name: "Volvo XC60"
  },
  {
    lng: 8.498596,
    lat: 47.377597,
    name: "Volvo S60"
  },
  {
    lng: 8.502426,
    lat: 47.36125,
    name: "Volvo V60"
  },
  {
    lng: 8.519464,
    lat: 47.395156,
    name: "Volvo V90"
  },
  {
    lng: 8.560014,
    lat: 47.37655,
    name: "Volvo V40"
  }
];
let selectedCar;
let route;
let destination;
// Bind icons to map at coordinates of cars.
const icons = cars.map((c, i) => {
  var popcontainer = L.DomUtil.create("div");
  popcontainer.style.cssText =
    "display:flex;align-items:center;flex-direction:column;";
  let name = popcontainer.appendChild(document.createElement("p"));
  name.style.margin = "0px";
  name.style.fontSize = "16px";
  name.innerHTML = c.name;
  let selectButton = createButton("Select this car", popcontainer);
  selectButton.onclick = () => {
    if (route) {
      mymap.removeControl(route);
    }
    if (selectedCar != null) {
      // if a car is already selected, change its color back to black.
      for (let i = 0; i < cars.length; i++) {
        if (cars[i].name === selectedCar.name) {
          icons[i].setIcon(carIcon);
        }
      }
    }
    mymap.closePopup();
    selectedCar = c;
    icons[i].setIcon(greenCarIcon);
  };
  return L.marker([c.lat, c.lng], { icon: carIcon })
    .addTo(mymap)
    .bindPopup(popcontainer);
});
// Button when map is clicked to get destination.
function createButton(label, container) {
  var btn = L.DomUtil.create("button", "", container);
  btn.setAttribute("type", "button");
  btn.innerHTML = label;
  return btn;
}
  </script>
</body>

</html> 