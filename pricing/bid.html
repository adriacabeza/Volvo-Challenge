<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bid</title>

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

</head>

<body style="padding: 20px 50px;">
  <h2>
    Auction for the weekend <span style="color:#2196f3">March 16-17</span>
  </h2>
  <h3>
    Model: 
  </h3>
  <h4 id='nbets'>
    available. 
  </h4>
  <div class="row" >
    <div class="col s12 m6">
      <h4 id="bet">
        Place your bet:
      </h4> 
      <form>
          <p class="range-field">
            <input type="range" id="test5" min="10" max="100" oninput="change(this.value)" />
          </p>
        </form>
        <button class="btn-large waves-effect waves-light" name="action" href="auction.html"
        onclick="submit()">
          Submit
        </button>
    </div>
    <div class="col s12 m6" style="display: flex; align-items: center; justify-content: flex-end;">
      <img id="img" src="v40.png" width="70%"/>
    </div>
  </div>
</body>

<script>
  function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
  }
  let model = getUrlVars()['model'];
  let subtitle = document.querySelector('h3');
  subtitle.innerHTML += ' ' + `<span style="color: #2196f3">Volvo ${model.toUpperCase()}</span>`;

  let img = document.querySelector('#img');
  img.src = model+'.jpg';

  let navailable;
  switch(model) {
    case 'v40':
      navailable = 3;
      break;
    case 'xc60':
      navailable = 9;
      break;
    case 'v90':
      navailable = 5;
      break;
  }
  let subsub = document.querySelector('#nbets');
  subsub.innerText = navailable.toString() + ' ' + subsub.innerText + ` Already ${10 + Math.round(Math.random()*10)} bets have been made.`;

  function change(x) {
    let bet = document.querySelector('#bet');
    bet.innerHTML = `Place your bet: <span style="color: #2196f3;">${x}CHF</span>`
  }
  
  function submit() {
    alert("Thank you for your bet!")
    window.location.href = 'auction.html';
  }
</script>

</html>